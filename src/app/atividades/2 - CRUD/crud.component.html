<div class="page-container">
  <div style="max-width: 600px">
    <b>Objetivo:</b>
    <div>Criar um CRUD de Pessoas.</div>

    <b>Requisitos :</b>
    <ul>
      <b>Dialog</b>
      <ul>
        <li>
          Nome: obrigatório, tamanho mínimo de 3 carácteres, tamanho máx 30.
        </li>
        <li>Email: obrigatório, validar formato do email</li>
        <li>Senha: obrigatório</li>
        <li>Cep : obrigatório</li>
        <li>
          Cep : ao digitar um cep válido (tamanho 8), deve buscar na API os
          valores e preencher o valor do logradouro
        </li>
        <li>Logradouro : deve estar desabilitado</li>
        <li>Logradouro : obrigatório (deve vir pela API)</li>
        <li>
          Ao clicar no botão, caso o formulário for inválido, mostrar um
          alert('formulário inválido')
        </li>
        <li>Ao adicionar, os valores devem ser apresentados em uma grid</li>
      </ul>

      <b>Grid Page</b>
      <ul>
        <li>
          Implementar um filtro de busca que filtra items da grid. Este deve
          utilizar operadores do RxJs para melhor performance, como debouceTime,
          distinctUntilChanged e takeUntil
        </li>
        <li>Deve ter as ações de editar, excluir</li>
      </ul>
    </ul>
  </div>

  <button mat-raised-button (click)="adicionar()">Adicionar</button>

  <form style="display: flex; flex-direction: column; gap: 20px">
    <mat-form-field appearance="fill">
      <mat-label>Filtro</mat-label>
      <input
        [formControl]="filtro"
        type="text"
        matInput
        placeholder="Filtrar items pelo nome"
      />
    </mat-form-field>
  </form>

  <div class="mat-elevation-z8">
    <table
      mat-table
      [dataSource]="dataSource"
      class="mat-elevation-z8"
      style="width: 100%"
    >
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Ações</th>
        <td mat-cell *matCellDef="let element">
          <button mat-button (click)="editar(element)">Editar</button>
          <button mat-button color="warn" (click)="remover(element)">
            Remover
          </button>
        </td>
      </ng-container>

      <!-- Coluna Nome -->
      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef>Nome</th>
        <td mat-cell *matCellDef="let element">{{ element.nome }}</td>
      </ng-container>

      <!-- Coluna Email -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let element">{{ element.email }}</td>
      </ng-container>

      <!-- Coluna Senha -->
      <ng-container matColumnDef="senha">
        <th mat-header-cell *matHeaderCellDef>Senha</th>
        <td mat-cell *matCellDef="let element">{{ element.senha }}</td>
      </ng-container>

      <!-- Coluna CEP -->
      <ng-container matColumnDef="cep">
        <th mat-header-cell *matHeaderCellDef>CEP</th>
        <td mat-cell *matCellDef="let element">{{ element.cep }}</td>
      </ng-container>

      <!-- Coluna Logradouro -->
      <ng-container matColumnDef="logradouro">
        <th mat-header-cell *matHeaderCellDef>Logradouro</th>
        <td mat-cell *matCellDef="let element">{{ element.logradouro }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
